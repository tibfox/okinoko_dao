// Code generated by cmd/cgo; DO NOT EDIT.

//line /home/tibfox/go/pkg/mod/github.com/second-state/!wasm!edge-go@v0.13.4/wasmedge/vm.go:1:1
package wasmedge

/*
#include <wasmedge/wasmedge.h>
#include <stdlib.h>

size_t _GoStringLen(_GoString_ s);
const char *_GoStringPtr(_GoString_ s);
*/
import _ "unsafe"
import (
	"unsafe"
)

type VM struct {
	_inner * /*line :16:10*/_Ctype_WasmEdge_VMContext /*line :16:30*/
	_own   bool
}

type bindgen int

const (
	Bindgen_return_void  bindgen = iota
	Bindgen_return_i32   bindgen = iota
	Bindgen_return_i64   bindgen = iota
	Bindgen_return_array bindgen = iota
)

func NewVM() *VM {
	vm := ( /*line :30:8*/_Cfunc_WasmEdge_VMCreate /*line :30:26*/)(nil, nil)
	if vm == nil {
		return nil
	}
	return &VM{_inner: vm, _own: true}
}

func NewVMWithConfig(conf *Configure) *VM {
	vm := func() *_Ctype_struct_WasmEdge_VMContext{ _cgo0 := /*line :38:28*/conf._inner; var _cgo1 *_Ctype_struct_WasmEdge_StoreContext = /*line :38:41*/nil; _cgoCheckPointer(_cgo0, nil); return /*line :38:45*/_Cfunc_WasmEdge_VMCreate(_cgo0, _cgo1); }()
	if vm == nil {
		return nil
	}
	return &VM{_inner: vm, _own: true}
}

func NewVMWithStore(store *Store) *VM {
	vm := func() *_Ctype_struct_WasmEdge_VMContext{ var _cgo0 *_Ctype_struct_WasmEdge_ConfigureContext = /*line :46:28*/nil; _cgo1 := /*line :46:33*/store._inner; _cgoCheckPointer(_cgo1, nil); return /*line :46:46*/_Cfunc_WasmEdge_VMCreate(_cgo0, _cgo1); }()
	if vm == nil {
		return nil
	}
	return &VM{_inner: vm, _own: true}
}

func NewVMWithConfigAndStore(conf *Configure, store *Store) *VM {
	vm := func() *_Ctype_struct_WasmEdge_VMContext{ _cgo0 := /*line :54:28*/conf._inner; _cgo1 := /*line :54:41*/store._inner; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); return /*line :54:54*/_Cfunc_WasmEdge_VMCreate(_cgo0, _cgo1); }()
	if vm == nil {
		return nil
	}
	return &VM{_inner: vm, _own: true}
}

func (self *VM) RegisterWasmFile(modname string, path string) error {
	modstr := toWasmEdgeStringWrap(modname)
	var cpath = ( /*line :63:14*/_Cfunc_CString /*line :63:22*/)(path)
	defer func() func() { _cgo0 := /*line :64:15*/unsafe.Pointer(cpath); return func() { _cgoCheckPointer(_cgo0, nil); /*line :64:37*/_Cfunc_free(_cgo0); }}()()
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :65:45*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :65:58*/modstr; var _cgo2 *_Ctype_char = /*line :65:66*/cpath; _cgoCheckPointer(_cgo0, nil); return /*line :65:72*/_Cfunc_WasmEdge_VMRegisterModuleFromFile(_cgo0, _cgo1, _cgo2); }()
	if !( /*line :66:6*/_Cfunc_WasmEdge_ResultOK /*line :66:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) RegisterWasmBuffer(modname string, buf []byte) error {
	modstr := toWasmEdgeStringWrap(modname)
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :74:47*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :74:60*/modstr; var _cgo2 *_Ctype_uint8_t = /*line :74:68*/(*_Ctype_uint8_t /*line :74:79*/)(unsafe.Pointer(&buf[0])); var _cgo3 _Ctype_uint32_t = _Ctype_uint32_t /*line :74:117*/(len(buf)); _cgoCheckPointer(_cgo0, nil); return /*line :74:128*/_Cfunc_WasmEdge_VMRegisterModuleFromBuffer(_cgo0, _cgo1, _cgo2, _cgo3); }()
	if !( /*line :75:6*/_Cfunc_WasmEdge_ResultOK /*line :75:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) RegisterAST(modname string, ast *AST) error {
	modstr := toWasmEdgeStringWrap(modname)
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :83:50*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :83:63*/modstr; _cgo2 := /*line :83:71*/ast._inner; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo2, nil); return /*line :83:82*/_Cfunc_WasmEdge_VMRegisterModuleFromASTModule(_cgo0, _cgo1, _cgo2); }()
	if !( /*line :84:6*/_Cfunc_WasmEdge_ResultOK /*line :84:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) RegisterModule(module *Module) error {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :91:47*/self._inner; _cgo1 := /*line :91:60*/module._inner; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); return /*line :91:74*/_Cfunc_WasmEdge_VMRegisterModuleFromImport(_cgo0, _cgo1); }()
	if !( /*line :92:6*/_Cfunc_WasmEdge_ResultOK /*line :92:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) runWasm(funcname string, params ...interface{}) ([]interface{}, error) {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :99:31*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :99:43*/_Cfunc_WasmEdge_VMValidate(_cgo0); }()
	if !( /*line :100:6*/_Cfunc_WasmEdge_ResultOK /*line :100:24*/)(res) {
		return nil, newError(res)
	}
	res = func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :103:33*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :103:45*/_Cfunc_WasmEdge_VMInstantiate(_cgo0); }()
	if !( /*line :104:6*/_Cfunc_WasmEdge_ResultOK /*line :104:24*/)(res) {
		return nil, newError(res)
	}
	return self.Execute(funcname, params...)
}

func (self *VM) RunWasmFile(path string, funcname string, params ...interface{}) ([]interface{}, error) {
	cpath := ( /*line :111:11*/_Cfunc_CString /*line :111:19*/)(path)
	defer func() func() { _cgo0 := /*line :112:15*/unsafe.Pointer(cpath); return func() { _cgoCheckPointer(_cgo0, nil); /*line :112:37*/_Cfunc_free(_cgo0); }}()()
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :113:39*/self._inner; var _cgo1 *_Ctype_char = /*line :113:52*/cpath; _cgoCheckPointer(_cgo0, nil); return /*line :113:58*/_Cfunc_WasmEdge_VMLoadWasmFromFile(_cgo0, _cgo1); }()
	if !( /*line :114:6*/_Cfunc_WasmEdge_ResultOK /*line :114:24*/)(res) {
		return nil, newError(res)
	}
	return self.runWasm(funcname, params...)
}

func (self *VM) RunWasmBuffer(buf []byte, funcname string, params ...interface{}) ([]interface{}, error) {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :121:41*/self._inner; var _cgo1 *_Ctype_uint8_t = /*line :121:54*/(*_Ctype_uint8_t /*line :121:65*/)(unsafe.Pointer(&buf[0])); var _cgo2 _Ctype_uint32_t = _Ctype_uint32_t /*line :121:103*/(len(buf)); _cgoCheckPointer(_cgo0, nil); return /*line :121:114*/_Cfunc_WasmEdge_VMLoadWasmFromBuffer(_cgo0, _cgo1, _cgo2); }()
	if !( /*line :122:6*/_Cfunc_WasmEdge_ResultOK /*line :122:24*/)(res) {
		return nil, newError(res)
	}
	return self.runWasm(funcname, params...)
}

func (self *VM) RunWasmAST(ast *AST, funcname string, params ...interface{}) ([]interface{}, error) {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :129:44*/self._inner; _cgo1 := /*line :129:57*/ast._inner; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); return /*line :129:68*/_Cfunc_WasmEdge_VMLoadWasmFromASTModule(_cgo0, _cgo1); }()
	if !( /*line :130:6*/_Cfunc_WasmEdge_ResultOK /*line :130:24*/)(res) {
		return nil, newError(res)
	}
	return self.runWasm(funcname, params...)
}

func (self *VM) AsyncRunWasmFile(path string, funcname string, params ...interface{}) *Async {
	cpath := ( /*line :137:11*/_Cfunc_CString /*line :137:19*/)(path)
	defer func() func() { _cgo0 := /*line :138:15*/unsafe.Pointer(cpath); return func() { _cgoCheckPointer(_cgo0, nil); /*line :138:37*/_Cfunc_free(_cgo0); }}()()
	funcstr := toWasmEdgeStringWrap(funcname)
	cparams := toWasmEdgeValueSlide(params...)
	var ptrparams * /*line :141:17*/_Ctype_WasmEdge_Value /*line :141:33*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :143:17*/_Ctype_WasmEdge_Value /*line :143:33*/)(unsafe.Pointer(&cparams[0]))
	}
	async := func() *_Ctype_struct_WasmEdge_Async{ _cgo0 := /*line :146:3*/self._inner; var _cgo1 *_Ctype_char = /*line :146:16*/cpath; var _cgo2 _Ctype_struct_WasmEdge_String = /*line :146:23*/funcstr; var _cgo3 *_Ctype_struct_WasmEdge_Value = /*line :146:32*/ptrparams; var _cgo4 _Ctype_uint32_t = _Ctype_uint32_t /*line :146:53*/(len(cparams)); _cgoCheckPointer(_cgo0, nil); return /*line :146:68*/_Cfunc_WasmEdge_VMAsyncRunWasmFromFile(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	if async == nil {
		return nil
	}
	return &Async{_inner: async, _own: true}
}

func (self *VM) AsyncRunWasmBuffer(buf []byte, funcname string, params ...interface{}) *Async {
	funcstr := toWasmEdgeStringWrap(funcname)
	cparams := toWasmEdgeValueSlide(params...)
	var ptrparams * /*line :156:17*/_Ctype_WasmEdge_Value /*line :156:33*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :158:17*/_Ctype_WasmEdge_Value /*line :158:33*/)(unsafe.Pointer(&cparams[0]))
	}
	async := func() *_Ctype_struct_WasmEdge_Async{ _cgo0 := /*line :161:3*/self._inner; var _cgo1 *_Ctype_uint8_t = /*line :161:16*/(*_Ctype_uint8_t /*line :161:27*/)(unsafe.Pointer(&buf[0])); var _cgo2 _Ctype_uint32_t = _Ctype_uint32_t /*line :161:65*/(len(buf)); var _cgo3 _Ctype_struct_WasmEdge_String = /*line :162:3*/funcstr; var _cgo4 *_Ctype_struct_WasmEdge_Value = /*line :162:12*/ptrparams; var _cgo5 _Ctype_uint32_t = _Ctype_uint32_t /*line :162:33*/(len(cparams)); _cgoCheckPointer(_cgo0, nil); return /*line :162:48*/_Cfunc_WasmEdge_VMAsyncRunWasmFromBuffer(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4, _cgo5); }()
	if async == nil {
		return nil
	}
	return &Async{_inner: async, _own: true}
}

func (self *VM) AsyncRunWasmAST(ast *AST, funcname string, params ...interface{}) *Async {
	funcstr := toWasmEdgeStringWrap(funcname)
	cparams := toWasmEdgeValueSlide(params...)
	var ptrparams * /*line :172:17*/_Ctype_WasmEdge_Value /*line :172:33*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :174:17*/_Ctype_WasmEdge_Value /*line :174:33*/)(unsafe.Pointer(&cparams[0]))
	}
	async := func() *_Ctype_struct_WasmEdge_Async{ _cgo0 := /*line :177:3*/self._inner; _cgo1 := /*line :177:16*/ast._inner; var _cgo2 _Ctype_struct_WasmEdge_String = /*line :177:28*/funcstr; var _cgo3 *_Ctype_struct_WasmEdge_Value = /*line :177:37*/ptrparams; var _cgo4 _Ctype_uint32_t = _Ctype_uint32_t /*line :177:58*/(len(cparams)); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); return /*line :177:73*/_Cfunc_WasmEdge_VMAsyncRunWasmFromASTModule(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	if async == nil {
		return nil
	}
	return &Async{_inner: async, _own: true}
}

func (self *VM) LoadWasmFile(path string) error {
	cpath := ( /*line :185:11*/_Cfunc_CString /*line :185:19*/)(path)
	defer func() func() { _cgo0 := /*line :186:15*/unsafe.Pointer(cpath); return func() { _cgoCheckPointer(_cgo0, nil); /*line :186:37*/_Cfunc_free(_cgo0); }}()()
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :187:39*/self._inner; var _cgo1 *_Ctype_char = /*line :187:52*/cpath; _cgoCheckPointer(_cgo0, nil); return /*line :187:58*/_Cfunc_WasmEdge_VMLoadWasmFromFile(_cgo0, _cgo1); }()
	if !( /*line :188:6*/_Cfunc_WasmEdge_ResultOK /*line :188:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) LoadWasmBuffer(buf []byte) error {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :195:41*/self._inner; var _cgo1 *_Ctype_uint8_t = /*line :195:54*/(*_Ctype_uint8_t /*line :195:65*/)(unsafe.Pointer(&buf[0])); var _cgo2 _Ctype_uint32_t = _Ctype_uint32_t /*line :195:103*/(len(buf)); _cgoCheckPointer(_cgo0, nil); return /*line :195:114*/_Cfunc_WasmEdge_VMLoadWasmFromBuffer(_cgo0, _cgo1, _cgo2); }()
	if !( /*line :196:6*/_Cfunc_WasmEdge_ResultOK /*line :196:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) LoadWasmAST(ast *AST) error {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :203:44*/self._inner; _cgo1 := /*line :203:57*/ast._inner; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); return /*line :203:68*/_Cfunc_WasmEdge_VMLoadWasmFromASTModule(_cgo0, _cgo1); }()
	if !( /*line :204:6*/_Cfunc_WasmEdge_ResultOK /*line :204:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) Validate() error {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :211:31*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :211:43*/_Cfunc_WasmEdge_VMValidate(_cgo0); }()
	if !( /*line :212:6*/_Cfunc_WasmEdge_ResultOK /*line :212:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) Instantiate() error {
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :219:34*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :219:46*/_Cfunc_WasmEdge_VMInstantiate(_cgo0); }()
	if !( /*line :220:6*/_Cfunc_WasmEdge_ResultOK /*line :220:24*/)(res) {
		return newError(res)
	}
	return nil
}

func (self *VM) Execute(funcname string, params ...interface{}) ([]interface{}, error) {
	funcstr := toWasmEdgeStringWrap(funcname)
	ftype := self.GetFunctionType(funcname)
	if ftype == nil {
		// If get function type failed, set as NULL and keep running to let the VM to handle the error.
		ftype = &FunctionType{_inner: nil, _own: false}
	}
	cparams := toWasmEdgeValueSlide(params...)
	creturns := make([] /*line :234:21*/_Ctype_WasmEdge_Value /*line :234:37*/, ftype.GetReturnsLength())
	var ptrparams * /*line :235:17*/_Ctype_WasmEdge_Value /*line :235:33*/ = nil
	var ptrreturns * /*line :236:18*/_Ctype_WasmEdge_Value /*line :236:34*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :238:17*/_Ctype_WasmEdge_Value /*line :238:33*/)(unsafe.Pointer(&cparams[0]))
	}
	if len(creturns) > 0 {
		ptrreturns = (* /*line :241:18*/_Ctype_WasmEdge_Value /*line :241:34*/)(unsafe.Pointer(&creturns[0]))
	}
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :244:3*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :244:16*/funcstr; var _cgo2 *_Ctype_struct_WasmEdge_Value = /*line :245:3*/ptrparams; var _cgo3 _Ctype_uint32_t = _Ctype_uint32_t /*line :245:24*/(len(cparams)); var _cgo4 *_Ctype_struct_WasmEdge_Value = /*line :246:3*/ptrreturns; var _cgo5 _Ctype_uint32_t = _Ctype_uint32_t /*line :246:25*/(len(creturns)); _cgoCheckPointer(_cgo0, nil); return /*line :246:41*/_Cfunc_WasmEdge_VMExecute(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4, _cgo5); }()
	if !( /*line :247:6*/_Cfunc_WasmEdge_ResultOK /*line :247:24*/)(res) {
		return nil, newError(res)
	}
	return fromWasmEdgeValueSlide(creturns), nil
}

func (self *VM) AsyncExecute(funcname string, params ...interface{}) *Async {
	funcstr := toWasmEdgeStringWrap(funcname)
	cparams := toWasmEdgeValueSlide(params...)
	var ptrparams * /*line :256:17*/_Ctype_WasmEdge_Value /*line :256:33*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :258:17*/_Ctype_WasmEdge_Value /*line :258:33*/)(unsafe.Pointer(&cparams[0]))
	}
	async := func() *_Ctype_struct_WasmEdge_Async{ _cgo0 := /*line :260:37*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :260:50*/funcstr; var _cgo2 *_Ctype_struct_WasmEdge_Value = /*line :260:59*/ptrparams; var _cgo3 _Ctype_uint32_t = _Ctype_uint32_t /*line :260:80*/(len(cparams)); _cgoCheckPointer(_cgo0, nil); return /*line :260:95*/_Cfunc_WasmEdge_VMAsyncExecute(_cgo0, _cgo1, _cgo2, _cgo3); }()
	if async == nil {
		return nil
	}
	return &Async{_inner: async, _own: true}
}

// Special execute function for running with wasm-bindgen.
func (self *VM) ExecuteBindgen(funcname string, rettype bindgen, params ...interface{}) (interface{}, error) {
	funcstr := toWasmEdgeStringWrap(funcname)
	ftype := self.GetFunctionType(funcname)
	if ftype == nil {
		// If get function type failed, set as NULL and keep running to let the VM to handle the error.
		ftype = &FunctionType{_inner: nil, _own: false}
	}
	cparams := toWasmEdgeValueSlideBindgen(self, rettype, nil, params...)
	creturns := make([] /*line :276:21*/_Ctype_WasmEdge_Value /*line :276:37*/, ftype.GetReturnsLength())
	var ptrparams * /*line :277:17*/_Ctype_WasmEdge_Value /*line :277:33*/ = nil
	var ptrreturns * /*line :278:18*/_Ctype_WasmEdge_Value /*line :278:34*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :280:17*/_Ctype_WasmEdge_Value /*line :280:33*/)(unsafe.Pointer(&cparams[0]))
	}
	if len(creturns) > 0 {
		ptrreturns = (* /*line :283:18*/_Ctype_WasmEdge_Value /*line :283:34*/)(unsafe.Pointer(&creturns[0]))
	}
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :286:3*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :286:16*/funcstr; var _cgo2 *_Ctype_struct_WasmEdge_Value = /*line :287:3*/ptrparams; var _cgo3 _Ctype_uint32_t = _Ctype_uint32_t /*line :287:24*/(len(cparams)); var _cgo4 *_Ctype_struct_WasmEdge_Value = /*line :288:3*/ptrreturns; var _cgo5 _Ctype_uint32_t = _Ctype_uint32_t /*line :288:25*/(len(creturns)); _cgoCheckPointer(_cgo0, nil); return /*line :288:41*/_Cfunc_WasmEdge_VMExecute(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4, _cgo5); }()
	if !( /*line :289:6*/_Cfunc_WasmEdge_ResultOK /*line :289:24*/)(res) {
		return nil, newError(res)
	}
	return fromWasmEdgeValueSlideBindgen(self, rettype, nil, creturns)
}

func (self *VM) ExecuteRegistered(modname string, funcname string, params ...interface{}) ([]interface{}, error) {
	modstr := toWasmEdgeStringWrap(modname)
	funcstr := toWasmEdgeStringWrap(funcname)
	ftype := self.GetFunctionTypeRegistered(modname, funcname)
	if ftype == nil {
		// If get function type failed, set as NULL and keep running to let the VM to handle the error.
		ftype = &FunctionType{_inner: nil, _own: false}
	}
	cparams := toWasmEdgeValueSlide(params...)
	creturns := make([] /*line :304:21*/_Ctype_WasmEdge_Value /*line :304:37*/, ftype.GetReturnsLength())
	var ptrparams * /*line :305:17*/_Ctype_WasmEdge_Value /*line :305:33*/ = nil
	var ptrreturns * /*line :306:18*/_Ctype_WasmEdge_Value /*line :306:34*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :308:17*/_Ctype_WasmEdge_Value /*line :308:33*/)(unsafe.Pointer(&cparams[0]))
	}
	if len(creturns) > 0 {
		ptrreturns = (* /*line :311:18*/_Ctype_WasmEdge_Value /*line :311:34*/)(unsafe.Pointer(&creturns[0]))
	}
	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :314:3*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :314:16*/modstr; var _cgo2 _Ctype_struct_WasmEdge_String = /*line :314:24*/funcstr; var _cgo3 *_Ctype_struct_WasmEdge_Value = /*line :315:3*/ptrparams; var _cgo4 _Ctype_uint32_t = _Ctype_uint32_t /*line :315:24*/(len(cparams)); var _cgo5 *_Ctype_struct_WasmEdge_Value = /*line :316:3*/ptrreturns; var _cgo6 _Ctype_uint32_t = _Ctype_uint32_t /*line :316:25*/(len(creturns)); _cgoCheckPointer(_cgo0, nil); return /*line :316:41*/_Cfunc_WasmEdge_VMExecuteRegistered(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4, _cgo5, _cgo6); }()
	if !( /*line :317:6*/_Cfunc_WasmEdge_ResultOK /*line :317:24*/)(res) {
		return nil, newError(res)
	}
	return fromWasmEdgeValueSlide(creturns), nil
}

func (self *VM) AsyncExecuteRegistered(modname string, funcname string, params ...interface{}) *Async {
	modstr := toWasmEdgeStringWrap(modname)
	funcstr := toWasmEdgeStringWrap(funcname)
	cparams := toWasmEdgeValueSlide(params...)
	var ptrparams * /*line :327:17*/_Ctype_WasmEdge_Value /*line :327:33*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :329:17*/_Ctype_WasmEdge_Value /*line :329:33*/)(unsafe.Pointer(&cparams[0]))
	}
	async := func() *_Ctype_struct_WasmEdge_Async{ _cgo0 := /*line :331:47*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :331:60*/modstr; var _cgo2 _Ctype_struct_WasmEdge_String = /*line :331:68*/funcstr; var _cgo3 *_Ctype_struct_WasmEdge_Value = /*line :331:77*/ptrparams; var _cgo4 _Ctype_uint32_t = _Ctype_uint32_t /*line :331:98*/(len(cparams)); _cgoCheckPointer(_cgo0, nil); return /*line :331:113*/_Cfunc_WasmEdge_VMAsyncExecuteRegistered(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	if async == nil {
		return nil
	}
	return &Async{_inner: async, _own: true}
}

// Special execute function for running with wasm-bindgen.
func (self *VM) ExecuteBindgenRegistered(modname string, funcname string, rettype bindgen, params ...interface{}) (interface{}, error) {
	modstr := toWasmEdgeStringWrap(modname)
	funcstr := toWasmEdgeStringWrap(funcname)
	ftype := self.GetFunctionType(funcname)
	if ftype == nil {
		// If get function type failed, set as NULL and keep running to let the VM to handle the error.
		ftype = &FunctionType{_inner: nil, _own: false}
	}
	cparams := toWasmEdgeValueSlideBindgen(self, rettype, &modname, params...)
	creturns := make([] /*line :348:21*/_Ctype_WasmEdge_Value /*line :348:37*/, ftype.GetReturnsLength())
	var ptrparams * /*line :349:17*/_Ctype_WasmEdge_Value /*line :349:33*/ = nil
	var ptrreturns * /*line :350:18*/_Ctype_WasmEdge_Value /*line :350:34*/ = nil
	if len(cparams) > 0 {
		ptrparams = (* /*line :352:17*/_Ctype_WasmEdge_Value /*line :352:33*/)(unsafe.Pointer(&cparams[0]))
	}
	if len(creturns) > 0 {
		ptrreturns = (* /*line :355:18*/_Ctype_WasmEdge_Value /*line :355:34*/)(unsafe.Pointer(&creturns[0]))
	}

	res := func() _Ctype_struct_WasmEdge_Result{ _cgo0 := /*line :359:3*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :359:16*/modstr; var _cgo2 _Ctype_struct_WasmEdge_String = /*line :359:24*/funcstr; var _cgo3 *_Ctype_struct_WasmEdge_Value = /*line :360:3*/ptrparams; var _cgo4 _Ctype_uint32_t = _Ctype_uint32_t /*line :360:24*/(len(cparams)); var _cgo5 *_Ctype_struct_WasmEdge_Value = /*line :361:3*/ptrreturns; var _cgo6 _Ctype_uint32_t = _Ctype_uint32_t /*line :361:25*/(len(creturns)); _cgoCheckPointer(_cgo0, nil); return /*line :361:41*/_Cfunc_WasmEdge_VMExecuteRegistered(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4, _cgo5, _cgo6); }()
	if !( /*line :362:6*/_Cfunc_WasmEdge_ResultOK /*line :362:24*/)(res) {
		return nil, newError(res)
	}
	return fromWasmEdgeValueSlideBindgen(self, rettype, &modname, creturns)
}

func (self *VM) GetFunctionType(funcname string) *FunctionType {
	funcstr := toWasmEdgeStringWrap(funcname)
	cftype := func() *_Ctype_struct_WasmEdge_FunctionTypeContext{ _cgo0 := /*line :370:41*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :370:54*/funcstr; _cgoCheckPointer(_cgo0, nil); return /*line :370:62*/_Cfunc_WasmEdge_VMGetFunctionType(_cgo0, _cgo1); }()
	if cftype == nil {
		return nil
	}
	return &FunctionType{_inner: cftype, _own: false}
}

func (self *VM) GetFunctionTypeRegistered(modname string, funcname string) *FunctionType {
	modstr := toWasmEdgeStringWrap(modname)
	funcstr := toWasmEdgeStringWrap(funcname)
	cftype := func() *_Ctype_struct_WasmEdge_FunctionTypeContext{ _cgo0 := /*line :380:51*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :380:64*/modstr; var _cgo2 _Ctype_struct_WasmEdge_String = /*line :380:72*/funcstr; _cgoCheckPointer(_cgo0, nil); return /*line :380:80*/_Cfunc_WasmEdge_VMGetFunctionTypeRegistered(_cgo0, _cgo1, _cgo2); }()
	if cftype == nil {
		return nil
	}
	return &FunctionType{_inner: cftype, _own: false}
}

func (self *VM) Cleanup() {
	func() { _cgo0 := /*line :388:23*/self._inner; _cgoCheckPointer(_cgo0, nil); /*line :388:35*/_Cfunc_WasmEdge_VMCleanup(_cgo0); }()
}

func (self *VM) GetFunctionList() ([]string, []*FunctionType) {
	funclen := func() _Ctype_uint32_t{ _cgo0 := /*line :392:48*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :392:60*/_Cfunc_WasmEdge_VMGetFunctionListLength(_cgo0); }()
	cfnames := make([] /*line :393:20*/_Ctype_WasmEdge_String /*line :393:37*/, int(funclen))
	cftypes := make([]* /*line :394:21*/_Ctype_WasmEdge_FunctionTypeContext /*line :394:51*/, int(funclen))
	if int(funclen) > 0 {
		func() _Ctype_uint32_t{ _cgo0 := /*line :396:32*/self._inner; _cgoIndex1 := &/*line :396:46*/cfnames; _cgo1 := /*line :396:45*/&(*_cgoIndex1)[0]; _cgoIndex2 := &/*line :396:59*/cftypes; _cgo2 := /*line :396:58*/&(*_cgoIndex2)[0]; var _cgo3 _Ctype_uint32_t = /*line :396:71*/funclen; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, *_cgoIndex1); _cgoCheckPointer(_cgo2, *_cgoIndex2); return /*line :396:79*/_Cfunc_WasmEdge_VMGetFunctionList(_cgo0, _cgo1, _cgo2, _cgo3); }()
	}
	fnames := make([]string, int(funclen))
	ftypes := make([]*FunctionType, int(funclen))
	for i := 0; i < int(funclen); i++ {
		fnames[i] = fromWasmEdgeString(cfnames[i])
		ftypes[i] = &FunctionType{_inner: cftypes[i]}
	}
	return fnames, ftypes
}

func (self *VM) GetImportModule(host HostRegistration) *Module {
	ptr := func() *_Ctype_struct_WasmEdge_ModuleInstanceContext{ _cgo0 := /*line :408:45*/self._inner; var _cgo1 uint32 = _Ctype_enum_WasmEdge_HostRegistration /*line :408:90*/(host); _cgoCheckPointer(_cgo0, nil); return /*line :408:97*/_Cfunc_WasmEdge_VMGetImportModuleContext(_cgo0, _cgo1); }()
	if ptr != nil {
		return &Module{_inner: ptr, _own: false}
	}
	return nil
}

func (self *VM) GetActiveModule() *Module {
	ptr := func() *_Ctype_struct_WasmEdge_ModuleInstanceContext{ _cgo0 := /*line :416:38*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :416:50*/_Cfunc_WasmEdge_VMGetActiveModule(_cgo0); }()
	if ptr != nil {
		return &Module{_inner: ptr, _own: false}
	}
	return nil
}

func (self *VM) GetRegisteredModule(name string) *Module {
	cname := toWasmEdgeStringWrap(name)
	ptr := func() *_Ctype_struct_WasmEdge_ModuleInstanceContext{ _cgo0 := /*line :425:42*/self._inner; var _cgo1 _Ctype_struct_WasmEdge_String = /*line :425:55*/cname; _cgoCheckPointer(_cgo0, nil); return /*line :425:61*/_Cfunc_WasmEdge_VMGetRegisteredModule(_cgo0, _cgo1); }()
	if ptr != nil {
		return &Module{_inner: ptr, _own: false}
	}
	return nil
}

func (self *VM) ListRegisteredModule() []string {
	modlen := func() _Ctype_uint32_t{ _cgo0 := /*line :433:52*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :433:64*/_Cfunc_WasmEdge_VMListRegisteredModuleLength(_cgo0); }()
	cnames := make([] /*line :434:19*/_Ctype_WasmEdge_String /*line :434:36*/, int(modlen))
	if int(modlen) > 0 {
		func() _Ctype_uint32_t{ _cgo0 := /*line :436:37*/self._inner; _cgoIndex1 := &/*line :436:51*/cnames; _cgo1 := /*line :436:50*/&(*_cgoIndex1)[0]; var _cgo2 _Ctype_uint32_t = /*line :436:62*/modlen; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, *_cgoIndex1); return /*line :436:69*/_Cfunc_WasmEdge_VMListRegisteredModule(_cgo0, _cgo1, _cgo2); }()
	}
	names := make([]string, int(modlen))
	for i := 0; i < int(modlen); i++ {
		names[i] = fromWasmEdgeString(cnames[i])
	}
	return names
}

func (self *VM) GetStore() *Store {
	return &Store{_inner: func() *_Ctype_struct_WasmEdge_StoreContext{ _cgo0 := /*line :446:53*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :446:65*/_Cfunc_WasmEdge_VMGetStoreContext(_cgo0); }(), _own: false}
}

func (self *VM) GetLoader() *Loader {
	return &Loader{_inner: func() *_Ctype_struct_WasmEdge_LoaderContext{ _cgo0 := /*line :450:55*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :450:67*/_Cfunc_WasmEdge_VMGetLoaderContext(_cgo0); }(), _own: false}
}

func (self *VM) GetValidator() *Validator {
	return &Validator{_inner: func() *_Ctype_struct_WasmEdge_ValidatorContext{ _cgo0 := /*line :454:61*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :454:73*/_Cfunc_WasmEdge_VMGetValidatorContext(_cgo0); }(), _own: false}
}

func (self *VM) GetExecutor() *Executor {
	return &Executor{_inner: func() *_Ctype_struct_WasmEdge_ExecutorContext{ _cgo0 := /*line :458:59*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :458:71*/_Cfunc_WasmEdge_VMGetExecutorContext(_cgo0); }(), _own: false}
}

func (self *VM) GetStatistics() *Statistics {
	return &Statistics{_inner: func() *_Ctype_struct_WasmEdge_StatisticsContext{ _cgo0 := /*line :462:63*/self._inner; _cgoCheckPointer(_cgo0, nil); return /*line :462:75*/_Cfunc_WasmEdge_VMGetStatisticsContext(_cgo0); }(), _own: false}
}

func (self *VM) Release() {
	if self._own {
		func() { _cgo0 := /*line :467:23*/self._inner; _cgoCheckPointer(_cgo0, nil); /*line :467:35*/_Cfunc_WasmEdge_VMDelete(_cgo0); }()
	}
	self._inner = nil
	self._own = false
}
